<div class="room-details-page">
    <div class="room-top">
        <!-- Room Image + Carousel -->
        <div class="room-gallery">            
            
            <swiper-container 
                rewind="true" navigation="true" pagination="true"
                pagination-clickable="true" keyboard="true"
                mousewheel="true" css-mode="true"
                autoplay-delay="5000" autoplay-disable-on-interaction="true"
                >
                @for (item of imageArray; track $index) {
                    <swiper-slide>
                        <img [src]="item.image" alt="Room Image" />
                    </swiper-slide>
                }
            </swiper-container>
        </div>
        <div class="reservation-card">
            <h2 class="title">Reservation</h2>
            <p class="price">
                Premium Room <span class="amount">â‚¬ {{details.pricePerNight}} </span> <span class="night">a night</span>
            </p>

            <form class="reservation-form" [formGroup]="filter" (ngSubmit)="Booking()">
                <div class="form-group">
                    <label>Check-in <i class="info">i</i></label>
                    <input type="date" placeholder="Check-in" formControlName="checkInDate"/>
                    @if (filter.get('checkInDate')?.touched && filter.get('checkInDate')?.invalid) {
                        @if (filter.get('checkInDate')?.errors?.['required']) {
                            <small class="error-text">
                                Check In Date is required.
                            </small>
                        }
                    }
                </div>

                <div class="form-group">
                    <label>Check-out <i class="info">i</i></label>
                    <input type="date" placeholder="Check-out" formControlName="checkOutDate"/>
                    @if (filter.get('checkOutDate')?.touched && filter.get('checkOutDate')?.invalid) {
                        @if (filter.get('checkOutDate')?.errors?.['required']) {
                            <small class="error-text">
                                Check Out Date is required.
                            </small>
                        }
                    }
                </div>

                <div class="form-group">
                    <label>Customer Name</label>
                    <input type="text" placeholder="Please enter your name" formControlName="customerName"/>
                    @if (filter.get('customerName')?.touched && filter.get('customerName')?.invalid) {
                        @if (filter.get('customerName')?.errors?.['required']) {
                            <small class="error-text">
                                Customer name is required.
                            </small>
                        }
                    }
                </div>

                <div class="form-group">
                    <label>Customer Tel:Phone</label>
                    <input type="tel" placeholder="Please enter your phone number" formControlName="customerPhone"/>
                    @if (filter.get('customerPhone')?.touched && filter.get('customerPhone')?.invalid) {
                        @if (filter.get('customerPhone')?.errors?.['required']) {
                            <small class="error-text">
                                Customer phone is required.
                            </small>
                        }@else if (filter.get('customerPhone')?.errors?.['pattern']) {
                            <small class="error-text">
                                Please enter a valid phone number (e.g. +9955XXXXXXX).
                            </small>
                        }
                    }
                </div>

                <button type="submit" class="btn">BOOK NOW</button>
                @if(bookingError) {
                    <small class="error-text">
                        The room is already booked for the selected dates.
                    </small>
                }@else if (bookingSuccess) {
                    <small class="succes-text">
                        Succesfully booked the room!
                    </small>
                }
            </form>
        </div>
    </div>

    <!-- Room Details + Overview -->
    <div class="room-info">
        <div class="info-block">
            <h3>Room Details</h3>
            <div class="Details-container">
                <div class="amenities-first">
                    <div class="amenity">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 24px; width: 24px; fill: currentcolor;"><path d="M24.33 1.67a2 2 0 0 1 2 1.85v24.81h3v2H2.67v-2h3V3.67a2 2 0 0 1 1.85-2h.15zm-4 2H7.67v24.66h12.66zm4 0h-2v24.66h2zm-7 11a1.33 1.33 0 1 1 0 2.66 1.33 1.33 0 0 1 0-2.66z"></path></svg>
                        <div class="amenityText">
                            <span class="amenity-title">Self check-in</span>
                            <span class="amenity-subtitle">Check yourself in with the lockbox.</span>
                        </div>
                    </div>
                    <div class="amenity">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 24px; width: 24px; fill: currentcolor;"><path d="M26 2a1 1 0 0 1 .92.61l.04.12 2 7a1 1 0 0 1-.85 1.26L28 11h-3v5h6v2h-2v13h-2v-2.54a3.98 3.98 0 0 1-1.73.53L25 29H7a3.98 3.98 0 0 1-2-.54V31H3V18H1v-2h5v-4a1 1 0 0 1 .88-1h.36L6.09 8.4l1.82-.8L9.43 11H12a1 1 0 0 1 1 .88V16h10v-5h-3a1 1 0 0 1-.99-1.16l.03-.11 2-7a1 1 0 0 1 .84-.72L22 2h4zm1 16H5v7a2 2 0 0 0 1.7 1.98l.15.01L7 27h18a2 2 0 0 0 2-1.85V18zm-16-5H8v3h3v-3zm14.24-9h-2.49l-1.43 5h5.35l-1.43-5z"></path></svg>
                        <div class="amenityText">
                            <span class="amenity-title">Dedicated workspace</span>
                            <span class="amenity-subtitle">A common area with wifi that's well-suited for working.</span>
                        </div>   
                    </div>
                </div>
                <h1>What this place offers</h1>
                
                <div class="amenities-grid">
                    <div class="amenity-item">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 24px; width: 24px; fill: currentcolor;"><path d="M26 1a5 5 0 0 1 5 5c0 6.39-1.6 13.19-4 14.7V31h-2V20.7c-2.36-1.48-3.94-8.07-4-14.36v-.56A5 5 0 0 1 26 1zm-9 0v18.12c2.32.55 4 3 4 5.88 0 3.27-2.18 6-5 6s-5-2.73-5-6c0-2.87 1.68-5.33 4-5.88V1zM2 1h1c4.47 0 6.93 6.37 7 18.5V21H4v10H2zm14 20c-1.6 0-3 1.75-3 4s1.4 4 3 4 3-1.75 3-4-1.4-4-3-4zM4 3.24V19h4l-.02-.96-.03-.95C7.67 9.16 6.24 4.62 4.22 3.36L4.1 3.3zm19 2.58v.49c.05 4.32 1.03 9.13 2 11.39V3.17a3 3 0 0 0-2 2.65zm4-2.65V17.7c.99-2.31 2-7.3 2-11.7a3 3 0 0 0-2-2.83z"></path></svg>
                        <span class="amenity-text">Kitchen</span>
                    </div>
                    
                    <div class="amenity-item">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 24px; width: 24px; fill: currentcolor;"><path d="M16 20.33a3.67 3.67 0 1 1 0 7.34 3.67 3.67 0 0 1 0-7.34zm0 2a1.67 1.67 0 1 0 0 3.34 1.67 1.67 0 0 0 0-3.34zM16 15a9 9 0 0 1 8.04 4.96l-1.51 1.51a7 7 0 0 0-13.06 0l-1.51-1.51A9 9 0 0 1 16 15zm0-5.33c4.98 0 9.37 2.54 11.94 6.4l-1.45 1.44a12.33 12.33 0 0 0-20.98 0l-1.45-1.45A14.32 14.32 0 0 1 16 9.66zm0-5.34c6.45 0 12.18 3.1 15.76 7.9l-1.43 1.44a17.64 17.64 0 0 0-28.66 0L.24 12.24c3.58-4.8 9.3-7.9 15.76-7.9z"></path></svg>
                        <span class="amenity-text">Wifi</span>
                    </div>
                    
                    <div class="amenity-item">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 24px; width: 24px; fill: currentcolor;"><path d="M26 2a1 1 0 0 1 .92.61l.04.12 2 7a1 1 0 0 1-.85 1.26L28 11h-3v5h6v2h-2v13h-2v-2.54a3.98 3.98 0 0 1-1.73.53L25 29H7a3.98 3.98 0 0 1-2-.54V31H3V18H1v-2h5v-4a1 1 0 0 1 .88-1h.36L6.09 8.4l1.82-.8L9.43 11H12a1 1 0 0 1 1 .88V16h10v-5h-3a1 1 0 0 1-.99-1.16l.03-.11 2-7a1 1 0 0 1 .84-.72L22 2h4zm1 16H5v7a2 2 0 0 0 1.7 1.98l.15.01L7 27h18a2 2 0 0 0 2-1.85V18zm-16-5H8v3h3v-3zm14.24-9h-2.49l-1.43 5h5.35l-1.43-5z"></path></svg>
                        <span class="amenity-text">Dedicated workspace</span>
                    </div>
                    
                    <div class="amenity-item">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 24px; width: 24px; fill: currentcolor;"><path d="M9 29v-2h2v-2H6a5 5 0 0 1-5-4.78V8a5 5 0 0 1 4.78-5H26a5 5 0 0 1 5 4.78V20a5 5 0 0 1-4.78 5H21v2h2v2zm10-4h-6v2h6zm7-20H6a3 3 0 0 0-3 2.82V20a3 3 0 0 0 2.82 3H26a3 3 0 0 0 3-2.82V8a3 3 0 0 0-2.82-3z"></path></svg>
                        <span class="amenity-text">TV</span>
                    </div>
                    
                    <div class="amenity-item">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 24px; width: 24px; fill: currentcolor;"><path d="M30 1a1 1 0 0 1 1 .88V30a1 1 0 0 1-.88 1H2a1 1 0 0 1-1-.88V2a1 1 0 0 1 .88-1H2zM3 3v26h12V3zm7 9v6.58l1.8-1.79 1.4 1.42-3.5 3.5a1 1 0 0 1-1.31.08l-.1-.08-3.5-3.5 1.42-1.42L8 18.6V12zm12.39-1.5a1 1 0 0 1 1.22 0l.1.09 3.5 3.5-1.42 1.41L24 13.7V20h-2v-6.3l-1.8 1.8-1.4-1.41 3.5-3.5zM17 29h12V3H17z"></path></svg>
                        <span class="amenity-text">Elevator</span>
                    </div>
                    
                    <div class="amenity-item">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 24px; width: 24px; fill: currentcolor;"><path d="M26.29 2a3 3 0 0 1 2.96 2.58c.5 3.56.75 7.37.75 11.42s-.25 7.86-.75 11.42a3 3 0 0 1-2.79 2.57l-.17.01H5.7a3 3 0 0 1-2.96-2.58C2.25 23.86 2 20.05 2 16s.25-7.86.75-11.42a3 3 0 0 1 2.79-2.57L5.7 2zm0 2H5.72a1 1 0 0 0-1 .86A80.6 80.6 0 0 0 4 16c0 3.96.24 7.67.73 11.14a1 1 0 0 0 .87.85l.11.01h20.57a1 1 0 0 0 1-.86c.48-3.47.72-7.18.72-11.14 0-3.96-.24-7.67-.73-11.14A1 1 0 0 0 26.3 4zM16 7a9 9 0 1 1 0 18 9 9 0 0 1 0-18zm-5.84 7.5c-.34 0-.68.02-1.02.07a7 7 0 0 0 13.1 4.58 9.09 9.09 0 0 1-6.9-2.37l-.23-.23a6.97 6.97 0 0 0-4.95-2.05zM16 9a7 7 0 0 0-6.07 3.5h.23c2.26 0 4.44.84 6.12 2.4l.24.24a6.98 6.98 0 0 0 6.4 1.9A7 7 0 0 0 16 9zM7 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"></path></svg>
                        <span class="amenity-text">Washer â€“ In unit</span>
                    </div>
                    
                    <div class="amenity-item">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 24px; width: 24px; fill: currentcolor;"><path d="M17 1v4.03l4.03-2.32 1 1.73L17 7.34v6.93l6-3.47V5h2v4.65l3.49-2.02 1 1.74L26 11.38l4.03 2.33-1 1.73-5.03-2.9L18 16l6 3.46 5.03-2.9 1 1.73L26 20.62l3.49 2.01-1 1.74L25 22.35V27h-2v-5.8l-6-3.47v6.93l5.03 2.9-1 1.73L17 26.97V31h-2v-4.03l-4.03 2.32-1-1.73 5.03-2.9v-6.93L9 21.2V27H7v-4.65l-3.49 2.02-1-1.74L6 20.62l-4.03-2.33 1-1.73L8 19.46 14 16l-6-3.46-5.03 2.9-1-1.73L6 11.38 2.51 9.37l1-1.74L7 9.65V5h2v5.8l6 3.47V7.34l-5.03-2.9 1-1.73L15 5.03V1z"></path></svg>
                        <span class="amenity-text">Air conditioning</span>
                    </div>
                    
                    <div class="amenity-item">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 24px; width: 24px; fill: currentcolor;"><path d="M23 1a2 2 0 0 1 2 1.85V19h4v2h-2v8h2v2H3v-2h2v-8H3v-2h4V3a2 2 0 0 1 1.85-2H9zM9 21H7v8h2zm4 0h-2v8h2zm4 0h-2v8h2zm4 0h-2v8h2zm4 0h-2v8h2zm-10-8H9v6h6zm8 0h-6v6h6zM15 3H9v8h6zm8 0h-6v8h6z"></path></svg>
                        <span class="amenity-text">Private patio or balcony</span>
                    </div>
                    
                    <div class="amenity-item">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 24px; width: 24px; fill: currentcolor;"><path d="M2.05 6.3 4 8.23V25a3 3 0 0 0 2.82 3h16.94l1.95 1.95c-.16.02-.33.04-.5.04L25 30H7a5 5 0 0 1-5-4.78V7c0-.24.02-.48.05-.7zm1.66-4 26 26-1.42 1.4-26-26 1.42-1.4zM25 2a5 5 0 0 1 5 4.78V25a5 5 0 0 1-.05.7L28 23.77V7a3 3 0 0 0-2.82-3H8.24L6.3 2.05c.16-.02.33-.04.5-.04L7 2h18zM11.1 17a5 5 0 0 0 3.9 3.9v2.03A7 7 0 0 1 9.07 17h2.03zm5.9 4.24 1.35 1.36a6.95 6.95 0 0 1-1.35.33v-1.69zM21.24 17h1.69c-.07.47-.18.92-.34 1.35L21.24 17zM17 9.07A7 7 0 0 1 22.93 15H20.9a5 5 0 0 0-3.9-3.9V9.07zm-7.6 4.58L10.76 15H9.07c.07-.47.18-.92.33-1.35zM15 9.07v1.69L13.65 9.4A6.95 6.95 0 0 1 15 9.07zM23 8a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"></path></svg>
                        <span class="amenity-text unavailable">Carbon monoxide alarm</span>
                    </div>
                    
                    <div class="amenity-item">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true" role="presentation" focusable="false" style="display: block; height: 24px; width: 24px; fill: currentcolor;"><path d="m3.49 7.73 1.44 1.44A12.94 12.94 0 0 0 3 16a13 13 0 0 0 19.82 11.07l1.45 1.44A14.93 14.93 0 0 1 16 31 15 15 0 0 1 3.49 7.73zm.22-5.44 26 26-1.42 1.42-26-26 1.42-1.42zM16 1a15 15 0 0 1 12.52 23.27l-1.45-1.45A12.94 12.94 0 0 0 29 16 13 13 0 0 0 16 3a12.94 12.94 0 0 0-6.83 1.93L7.74 3.5A14.93 14.93 0 0 1 16 1zm-4.9 16a5 5 0 0 0 3.9 3.9v2.03A7 7 0 0 1 9.07 17h2.03zm5.9 4.24 1.35 1.36a6.95 6.95 0 0 1-1.35.33v-1.69zM21.24 17h1.69c-.07.47-.18.92-.34 1.35L21.24 17zM17 9.07A7 7 0 0 1 22.93 15H20.9a5 5 0 0 0-3.9-3.9V9.07zm-7.6 4.58L10.76 15H9.07c.07-.47.18-.92.33-1.35zM15 9.07v1.69L13.65 9.4A6.95 6.95 0 0 1 15 9.07zM23 8a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"></path></svg>
                        <span class="amenity-text unavailable">Smoke alarm</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="info-block">
            <h3>Overview</h3>
            <div class="tabs">
                <p>
                    The apartment is situated in a residential building and comes fully equipped with a queen-size bed featuring a
                    luxurious mattress and bedding. There is also a convenient fold-out sofa for extra sleeping space. <br><br>
                    
                    You'll also find a modern bathroom with a refreshing shower. The fully stocked kitchen includes all the essentials
                    like cooking and dining utensils, a fridge, kettle, and stovetop. For your convenience, there is a washing machine,
                    a drying rack, an iron, and an ironing board available.<br><br>
                
                    In addition to the amenities already listed in the descriptions of the listing, we provide:<br>
                    â€¢ Bathroom towels<br>
                    â€¢ Toilet paper<br>
                    â€¢ Laundry detergent pods<br>
                    â€¢ Soap<br>
                    â€¢ Shampoo<br>
                    â€¢ Hair dryer<br>
                    â€¢ Slippers<br>
                    â€¢ Kitchen towel<br>
                    â€¢ Complimentary tea, upon arrival.<br>
                </p>
            </div>
            
        </div>
    </div>

    <!-- Other Rooms -->
    <div class="other-rooms">
        <h3>Other rooms</h3>
        <div class="room-list">
            @for (room of rooms; track $index) {
                <div class="room-card" (click)="GoToDetails(room.id)">
                    <img 
                        [src]="room.images[0].source"
                        alt="Premium Room"
                        class="room-card__image"
                        >
                    <div class="room-card__info">
                        <h3 class="room-card__name">{{room.name}}</h3>
                        <p class="room-card__price">â‚¬{{room.pricePerNight}}<span>a night</span></p>
                    </div>
                </div>
            }
        </div>
    </div>
</div>